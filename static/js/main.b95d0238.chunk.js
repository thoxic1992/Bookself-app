(this["webpackJsonpbookself-app"]=this["webpackJsonpbookself-app"]||[]).push([[0],{22:function(e,t,a){e.exports=a(47)},28:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),l=a.n(c),s=a(7),o=a.n(s),i=a(8),u=a(21),m=a(2),p=a(3),h=a(5),d=a(4),b=a(6),f=(a(28),a(29),function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement("nav",{className:"navbar navbar-dark bg-dark"},r.a.createElement("h1",{className:"navbar-brand"},"Bookself app"),r.a.createElement("small",{className:"text-light"},"Google Books Search App")))}}]),t}(n.Component)),v=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",{className:"bg-info navbar"},r.a.createElement("a",{className:"text-light",href:"https://github.com/thoxic1992/Bookself-app"},"Github repository"))}}]),t}(n.Component),E=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={query:""},a.checkInput=function(){return a.state.query.length>1},a.handleChange=function(e){return a.setState({query:e.target.value})},a.handleSubmit=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!a.checkInput()){e.next=7;break}return e.next=4,a.props.getBooks(a.state.query);case 4:a.setState({query:""}),e.next=8;break;case 7:alert("Error: search query is empty!");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"d-flex justify-content-between align-items-center pt-3 pb-3"},r.a.createElement("input",{className:"form-control mr-2 flex-grow-1",placeholder:"Enter search query",value:this.state.query,onChange:this.handleChange}),r.a.createElement("button",{className:"btn btn-outline-success my-2 my-sm-0"},"Search")))}}]),t}(n.Component),g=a(19),j=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.data,t=e.title,a=e.subtitle,n=e.tmb,c=e.description,l=e.publishedDate,s=e.authors,o=e.categories;return r.a.createElement("div",null,r.a.createElement(g.a,{modal:!0,trigger:r.a.createElement("a",null,r.a.createElement("div",{className:"card-group"},r.a.createElement("div",{className:"card mb-3 p-3"},r.a.createElement("img",{src:n,className:"card-img",alt:"..."}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title text-truncate"},t),r.a.createElement("h6",{className:"card-title text-truncate"},s)))))},r.a.createElement("div",{className:"card mb-3 p-3"},r.a.createElement("h5",{className:"card-title"},t),r.a.createElement("h6",{className:"card-title"},a),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("img",{src:n,className:"card-img img-fluid ",alt:"..."})),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"card-body p-0"},r.a.createElement("p",{className:"card-text pl-3"},c),r.a.createElement("div",{className:"card-text"},r.a.createElement("div",{className:"text-right"},r.a.createElement("em",null,l)),r.a.createElement("div",{className:"text-right mb-3"},r.a.createElement("em",null,s)),r.a.createElement("div",{className:"text-right"},r.a.createElement("em",null,o)))))))))}}]),t}(n.Component),y=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.data;return r.a.createElement("div",null,e.length>0&&r.a.createElement("h3",null,"Search results: "),r.a.createElement("div",{className:"row equal-cols"},e.map((function(e){return r.a.createElement("div",{className:"col-4",key:e.id},r.a.createElement(j,{data:e}))}))))}}]),t}(n.Component),N=a(20),O=a.n(N),k=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={results:[]},a.searchLimit=40,a.formatResponse=function(e){return e.map((function(e){return{id:e.id,title:e.volumeInfo.title,subtitle:e.volumeInfo.subtitle,tmb:e.volumeInfo.imageLinks?e.volumeInfo.imageLinks.smallThumbnail:"no-cover.jpg",description:e.volumeInfo.description?e.volumeInfo.description.substring(0,300)+"...":"No description available",publishedDate:e.volumeInfo.publishedDate,authors:e.volumeInfo.authors?Object(u.a)(e.volumeInfo.authors).join(", "):"",categories:e.volumeInfo.categories}}))},a.getData=function(){var e=Object(i.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://www.googleapis.com/books/v1/volumes?maxResults=".concat(a.searchLimit,"&q=").concat(t),e.prev=1,e.next=4,O.a.get(n);case 4:return r=e.sent,e.abrupt("return",r.data.items);case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),a.getBooks=function(){var e=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getData(t);case 2:(n=e.sent)?a.setState({results:a.formatResponse(n)}):alert("Nothing found :(");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App container d-flex flex-column"},r.a.createElement(f,null),r.a.createElement("main",{className:"flex-grow-1 border"},r.a.createElement("div",{className:"container"},r.a.createElement(E,{getBooks:this.getBooks}),r.a.createElement("div",null,r.a.createElement(y,{data:this.state.results})))),r.a.createElement(v,null))}}]),t}(n.Component);l.a.render(r.a.createElement(k,null),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.b95d0238.chunk.js.map